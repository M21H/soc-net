{"version":3,"sources":["common/Preloader/Preloader.module.css","routes/routes.ts","api/authAPI.ts","api/followAPI.ts","api/profileAPI.ts","api/securityAPI.ts","api/usersAPI.ts","reportWebVitals.js","components/Header/HeaderMenu.jsx","components/Header/Header.jsx","assets/img/logo.png","components/Sidebar/Sidebar.jsx","components/TopSearchForm/TopSearchForm.tsx","redux/app_reducer.ts","routes/AppRoutes.tsx","App.tsx","redux/store.ts","index.js","redux/auth_reducer.ts","components/Header/Header.module.css","components/TopSearchForm/TopSearchForm.module.css","components/Header/HeaderMenu.module.css","redux/profile_reducer.ts","redux/users_reducer.ts","api/chatAPI.ts","redux/chat_reducer.ts","redux/dialogs_reducer.ts","api/api.ts","assets/img/preloader.gif","common/Preloader/Preloader.jsx"],"names":["module","exports","RouteName","Profile","React","lazy","Dialogs","Users","Login","Chat","authRoutes","path","PROFILE_ROUTE","component","exact","DIALOGS_ROUTE","USERS_ROUTE","CHAT_ROUTE","publicRoutes","LOGIN_ROUTE","authAPI","me","instance","get","then","data","login","email","password","rememberMe","captcha","post","logout","delete","followAPI","follow","userId","unfollow","profileAPI","getProfile","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","headers","saveProfile","profile","securityAPI","getCaptchaUrl","usersAPI","getUsers","currentPage","pageSize","term","friend","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","HeaderMenu","headerMenu","items","map","item","index","className","style","headerMenu__item","Header","header","header__container","to","textDecoration","color","header__logo","src","alt","header__title","header__menu","onClick","title","console","log","Sidebar","styles","box","display","justifyContent","alignItems","height","width","icon","fontSize","selected","active","position","Box","backgroundColor","IconButton","TopSearchForm","dispatch","useDispatch","useSelector","auth","isAuth","topSearchForm","topSearchForm__input","type","placeholder","topSearchForm__login","fontWeight","initialState","initialized","actions","appReducer","state","action","NotFound","AppRoutes","Suspense","fallback","from","route","MAIN_ROUTE","App","app","useEffect","a","getAuthUserData","marginLeft","Preloader","rootReducer","combineReducers","profilePage","dialogsPage","usersPage","form","chat","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","document","getElementById","captchaUrl","payload","resultCode","ResultCodeEnum","Success","id","ResultCodeForCaptchaEnum","CaptchaIsRequired","message","messages","length","stopSubmit","_error","url","authReducer","posts","likeCount","userStatus","newPostText","addPost","setUserStatus","setUserProfile","savePhotoSuccess","photos","getUserProfile","getUserStatus","updateUserStatus","file","getState","Error","Promise","reject","profileReducer","newPost","Date","now","Math","floor","random","users","totalUsersCount","isFetching","toggleFollowingInProgress","filter","totalCount","_followUnfollow","apiFollowUnfollow","bind","usersReducer","user","followed","subscribers","ws","closeHandler","setTimeout","createChatChannel","messageHandler","e","newMessages","JSON","parse","forEach","sub","removeEventListener","close","WebSocket","addEventListener","chatAPI","callback","push","send","_newMessageHandler","newMessageHandlerCreator","startMessagesListening","stopMessagesListening","sendMessage","chatReducer","dialogs","name","newMessageText","dialogsReducer","axios","create","baseURL","process","withCredentials","preloader"],"mappings":"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","file":"static/js/main.7e85d5cf.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__Kjxcy\"};","import React from 'react'\n// import { DIALOGS_ROUTE, LOGIN_ROUTE, PROFILE_ROUTE, USERS_ROUTE, CHAT_ROUTE } from '../utils/const'\n\nconst Profile = React.lazy(() => import('../pages/Profile/Profile'))\nconst Dialogs = React.lazy(() => import('../pages/Dialogs/Dialogs'))\nconst Users = React.lazy(() => import('../pages/Users/Users'))\nconst Login = React.lazy(() => import('../pages/Login/Login'))\nconst Chat = React.lazy(() => import('../pages/Chat/Chat'))\n\nexport enum RouteName {\n\tMAIN_ROUTE = '/',\n\tPROFILE_ROUTE = '/profile',\n\tDIALOGS_ROUTE = '/dialogs',\n\tUSERS_ROUTE = '/users',\n\tLOGIN_ROUTE = '/login',\n\tCHAT_ROUTE = '/chat',\n}\n\nexport const authRoutes = [\n\t{\n\t\tpath: `${RouteName.PROFILE_ROUTE}/:userId?`,\n\t\tcomponent: Profile,\n\t\texact: true,\n\t},\n\t{\n\t\tpath: RouteName.DIALOGS_ROUTE,\n\t\tcomponent: Dialogs,\n\t\texact: true,\n\t},\n\t{\n\t\tpath: RouteName.USERS_ROUTE,\n\t\tcomponent: Users,\n\t\texact: false,\n\t},\n\t{\n\t\tpath: RouteName.CHAT_ROUTE,\n\t\tcomponent: Chat,\n\t\texact: true,\n\t},\n\n]\n\nexport const publicRoutes = [\n\t{\n\t\tpath: RouteName.USERS_ROUTE,\n\t\tcomponent: Users,\n\t\texact: false,\n\t},\n\t{\n\t\tpath: RouteName.LOGIN_ROUTE,\n\t\tcomponent: Login,\n\t\texact: true,\n\t},\n]\n","import { instance, ResponseType, ResultCodeEnum, ResultCodeForCaptchaEnum } from './api'\n\ntype MeResponseDataType = {\n\tid: number\n\temail: string\n\tlogin: string\n}\n\ntype LoginResponseDataType = {\n\tuserId: number\n}\n\nconst authAPI = {\n\tme() {\n\t\treturn instance.get<ResponseType<MeResponseDataType>>(`auth/me`).then(({ data }) => data)\n\t},\n\tlogin(email: string, password: string, rememberMe = false, captcha: null | string = null) {\n\t\treturn instance\n\t\t\t.post<ResponseType<LoginResponseDataType, ResultCodeEnum | ResultCodeForCaptchaEnum>>(`auth/login`, {\n\t\t\t\temail,\n\t\t\t\tpassword,\n\t\t\t\trememberMe,\n\t\t\t\tcaptcha,\n\t\t\t})\n\t\t\t.then(({ data }) => data)\n\t},\n\tlogout() {\n\t\treturn instance.delete<ResponseType>(`auth/login`).then(({ data }) => data)\n\t},\n}\n\nexport default authAPI\n","import { instance, ResponseType } from './api'\n\nconst followAPI = {\n\tfollow(userId: number) {\n\t\treturn instance.post<ResponseType>(`follow/${userId}`).then(({ data }) => data)\n\t},\n\tunfollow(userId: number) {\n\t\treturn instance.delete<ResponseType>(`follow/${userId}`).then(({ data }) => data)\n\t},\n}\n\nexport default followAPI\n","import { PhotosType, ProfileType } from '../types/types'\nimport { instance, ResponseType } from './api'\n\ntype SavePhotoResponseType = {\n\tphotos: PhotosType\n}\n\nconst profileAPI = {\n\tgetProfile(userId: number) {\n\t\treturn instance.get<ProfileType>(`profile/${userId}`).then(({ data }) => data)\n\t},\n\n\tgetStatus(userId: number) {\n\t\treturn instance.get<string>(`profile/status/${userId}`).then(({ data }) => data)\n\t},\n\n\tupdateStatus(status: string) {\n\t\treturn instance.put<ResponseType>(`profile/status`, { status }).then(({ data }) => data)\n\t},\n\n\tsavePhoto(photoFile: File) {\n\t\tconst formData = new FormData()\n\t\tformData.append('images', photoFile)\n\t\treturn instance\n\t\t\t.put<ResponseType<SavePhotoResponseType>>(`profile/photo`, formData, {\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'multipart/form-data',\n\t\t\t\t},\n\t\t\t})\n\t\t\t.then(({ data }) => data)\n\t},\n\tsaveProfile(profile: ProfileType) {\n\t\treturn instance.put<ResponseType>(`/profile`, profile).then(({ data }) => data)\n\t},\n}\n\nexport default profileAPI\n","import { instance } from './api'\n\ntype getCaptchaResponseType = {\n\turl: string\n}\n\nconst securityAPI = {\n\tgetCaptchaUrl() {\n\t\treturn instance.get<getCaptchaResponseType>('/security/get-captcha-url').then(({ data }) => data)\n\t},\n}\n\nexport default securityAPI\n","import { GetItemsType, instance } from './api'\n\nconst usersAPI = {\n\tgetUsers(currentPage = 1, pageSize = 10, term = '', friend: null | boolean = null) {\n\t\treturn instance\n\t\t\t.get<GetItemsType>(\n\t\t\t\t`users?page=${currentPage}&count=${pageSize}&term=${term}${friend === null ? '' : `&friend=${friend}`}`\n\t\t\t)\n\t\t\t.then(({ data }) => data)\n\t},\n}\n\nexport default usersAPI\n","const reportWebVitals = onPerfEntry => {\n\tif (onPerfEntry && onPerfEntry instanceof Function) {\n\t\timport('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n\t\t\tgetCLS(onPerfEntry)\n\t\t\tgetFID(onPerfEntry)\n\t\t\tgetFCP(onPerfEntry)\n\t\t\tgetLCP(onPerfEntry)\n\t\t\tgetTTFB(onPerfEntry)\n\t\t})\n\t}\n}\n\nexport default reportWebVitals\n","import style from './HeaderMenu.module.css'\n\nexport const HeaderMenu = ({ items }) => {\n\tconst headerMenu = items.map((item, index) => (\n\t\t<li className={style.headerMenu__item} key={`${item}-${index}`}>\n\t\t\t{item}\n\t\t</li>\n\t))\n\n\treturn <ul className={style.headerMenu}>{headerMenu}</ul>\n}\n","import { NavLink } from 'react-router-dom'\nimport style from './Header.module.css'\nimport { HeaderMenu } from './HeaderMenu'\nimport logo from '../../assets/img/logo.png'\nimport { RouteName } from '../../routes/routes'\n\nconst Header = () => {\n\treturn (\n\t\t<div className={style.header}>\n\t\t\t<div className={style.header__container}>\n\t\t\t\t<NavLink to={RouteName.PROFILE_ROUTE} style={{ textDecoration: 'inherit', color: 'inherit' }}>\n\t\t\t\t\t<div className={style.header__logo}>\n\t\t\t\t\t\t<img src={logo} alt='logo' />\n\t\t\t\t\t\t<div className={style.header__title}>\n\t\t\t\t\t\t\t<h4>olimpus</h4>\n\t\t\t\t\t\t\t<h6>BuddyPress Social Network</h6>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</NavLink>\n\n\t\t\t\t<div className={style.header__menu}>\n\t\t\t\t\t<HeaderMenu\n\t\t\t\t\t\tonClick={title => console.log(title)}\n\t\t\t\t\t\titems={['Home', 'Community', 'Pages', 'Blog', 'Events', 'Shop']}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n\nexport default Header\n","export default \"data:image/png;base64,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\"","import MenuIcon from '@material-ui/icons/Menu'\nimport PersonIcon from '@material-ui/icons/Person'\nimport GroupIcon from '@material-ui/icons/Group'\nimport QuestionAnswerIcon from '@material-ui/icons/QuestionAnswer'\nimport ChatIcon from '@material-ui/icons/Chat'\nimport { NavLink } from 'react-router-dom'\nimport { Box, IconButton } from '@material-ui/core'\nimport { RouteName } from '../../routes/routes'\n\nconst Sidebar = () => {\n\tconst styles = {\n\t\tbox: {\n\t\t\tdisplay: 'flex',\n\t\t\tjustifyContent: 'center',\n\t\t\talignItems: 'center',\n\t\t\theight: 70,\n\t\t\twidth: 70,\n\t\t},\n\t\ticon: {\n\t\t\tfontSize: 'xx-large',\n\t\t\tcolor: '#3f4257',\n\t\t},\n\t\tselected: {\n\t\t\tcolor: 'blue',\n\t\t},\n\t\tactive: {\n\t\t\tcolor: 'red',\n\t\t},\n\t}\n\n\treturn (\n\t\t<div style={{ position: 'fixed' }}>\n\t\t\t<Box style={{ ...styles.box, backgroundColor: '#ef5a39' }}>\n\t\t\t\t<MenuIcon style={{ ...styles.icon, color: 'white' }} />\n\t\t\t</Box>\n\n\t\t\t<NavLink to={RouteName.PROFILE_ROUTE}>\n\t\t\t\t<Box style={styles.box}>\n\t\t\t\t\t<IconButton>\n\t\t\t\t\t\t<PersonIcon style={styles.icon} />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Box>\n\t\t\t</NavLink>\n\n\t\t\t<NavLink to={RouteName.DIALOGS_ROUTE}>\n\t\t\t\t<Box style={styles.box}>\n\t\t\t\t\t<IconButton>\n\t\t\t\t\t\t<QuestionAnswerIcon style={styles.icon} />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Box>\n\t\t\t</NavLink>\n\n\t\t\t<NavLink to={RouteName.USERS_ROUTE}>\n\t\t\t\t<Box style={styles.box}>\n\t\t\t\t\t<IconButton>\n\t\t\t\t\t\t<GroupIcon style={styles.icon} />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Box>\n\t\t\t</NavLink>\n\n\t\t\t<NavLink to={RouteName.CHAT_ROUTE}>\n\t\t\t\t<Box style={styles.box}>\n\t\t\t\t\t<IconButton>\n\t\t\t\t\t\t<ChatIcon style={styles.icon} />\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Box>\n\t\t\t</NavLink>\n\t\t</div>\n\t)\n}\n\nexport default Sidebar\n","import React from 'react'\n\nimport SearchIcon from '@material-ui/icons/Search'\nimport PowerSettingsNewIcon from '@material-ui/icons/PowerSettingsNew'\nimport { NavLink } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport style from './TopSearchForm.module.css'\nimport { logout } from '../../redux/auth_reducer'\nimport { AppStateType } from '../../redux/store'\nimport { RouteName } from '../../routes/routes'\n\nconst TopSearchForm: React.FC = () => {\n\tconst dispatch = useDispatch()\n\tconst { login, isAuth } = useSelector(({ auth }: AppStateType) => auth)\n\n\tconst onLogout = () => {\n\t\tdispatch(logout())\n\t}\n\n\treturn (\n\t\t<div className={style.topSearchForm}>\n\t\t\t<div className={style.topSearchForm__input}>\n\t\t\t\t<input type='text' placeholder='Search here people or pages...' />\n\t\t\t\t<SearchIcon style={{ fontSize: 'xx-large', color: '#888da8' }} />\n\t\t\t</div>\n\n\t\t\t{isAuth ? (\n\t\t\t\t<div onClick={onLogout} title='logout' className={style.topSearchForm__login} style={{ fontWeight: 'bold' }}>\n\t\t\t\t\t<div>{login}</div>\n\t\t\t\t</div>\n\t\t\t) : (\n\t\t\t\t<NavLink to={RouteName.LOGIN_ROUTE}>\n\t\t\t\t\t<div className={style.topSearchForm__login}>\n\t\t\t\t\t\t<PowerSettingsNewIcon style={{ fontSize: 'xx-large' }} />\n\t\t\t\t\t</div>\n\t\t\t\t</NavLink>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default TopSearchForm\n","import { getAuthUserData } from './auth_reducer'\nimport { BaseThunkType, InferActionsTypes } from './store'\n\nexport type InitialStateType = typeof initialState\ntype ActionsType = InferActionsTypes<typeof actions>\ntype ThunkType = BaseThunkType<ActionsType>\n\nconst initialState = {\n\tinitialized: false,\n}\n\nconst appReducer = (state = initialState, action: ActionsType): InitialStateType => {\n\tswitch (action.type) {\n\t\tcase 'APP:INITIALIZED_SUCCESS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tinitialized: true,\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport const actions = {\n\tinitializedSuccess: () => ({\n\t\ttype: 'APP:INITIALIZED_SUCCESS' as const,\n\t}),\n}\n\nexport const initializeApp = (): ThunkType => async dispatch => {\n\tconst promise = dispatch(getAuthUserData())\n\tpromise.then(() => {\n\t\tdispatch(actions.initializedSuccess())\n\t})\n}\n\nexport default appReducer\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport { Redirect, Route, Switch } from 'react-router'\nimport { AppStateType } from '../redux/store'\nimport { RouteName } from './routes'\nimport { authRoutes, publicRoutes } from './routes'\n\nconst NotFound = React.lazy(() => import('../pages/NotFound/NotFound'))\n\nexport const AppRoutes: React.FC = () => {\n\tconst { isAuth } = useSelector(({ auth }: AppStateType) => auth)\n\n\treturn (\n\t\t<React.Suspense fallback={<div>Loading...</div>}>\n\t\t\t<>\n\t\t\t\t{isAuth ? (\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Redirect from={RouteName.LOGIN_ROUTE && RouteName.LOGIN_ROUTE} to={RouteName.PROFILE_ROUTE} />\n\t\t\t\t\t\t{authRoutes.map((route) => (\n\t\t\t\t\t\t\t<Route key={route.path} {...route} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t<Route path='*' component={NotFound} />\n\t\t\t\t\t</Switch>\n\t\t\t\t) : (\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Redirect from={RouteName.MAIN_ROUTE} to={RouteName.PROFILE_ROUTE} exact />\n\t\t\t\t\t\t{publicRoutes.map((route) => (\n\t\t\t\t\t\t\t<Route key={route.path} {...route} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t\t<Redirect to={RouteName.LOGIN_ROUTE} />\n\t\t\t\t\t</Switch>\n\t\t\t\t)}\n\t\t\t</>\n\t\t</React.Suspense>\n\t)\n}\n","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Preloader from './common/Preloader/Preloader'\nimport Header from './components/Header/Header'\nimport Sidebar from './components/Sidebar/Sidebar'\nimport TopSearchForm from './components/TopSearchForm/TopSearchForm'\nimport { initializeApp } from './redux/app_reducer'\nimport { AppStateType } from './redux/store'\nimport { AppRoutes } from './routes/AppRoutes'\n\nexport const App = () => {\n\tconst dispatch = useDispatch()\n\tconst { initialized } = useSelector(({ app }: AppStateType) => app)\n\n\tReact.useEffect(() => {\n\t\tdispatch(initializeApp())\n\t}, [])\n\n\tif (!initialized) return <Preloader />\n\n\treturn (\n\t\t<>\n\t\t\t<Sidebar />\n\t\t\t<div style={{ marginLeft: 70 }}>\n\t\t\t\t<TopSearchForm />\n\t\t\t\t<Header />\n\t\t\t\t<AppRoutes />\n\t\t\t</div>\n\t\t</>\n\t)\n}\n","import { applyMiddleware, combineReducers, createStore, compose, Action } from 'redux'\nimport thunkMiddleware, { ThunkAction } from 'redux-thunk'\nimport { reducer as form } from 'redux-form'\nimport { profilePage, dialogsPage, usersPage, app, auth, chat } from './index'\n\nconst rootReducer = combineReducers({ profilePage, dialogsPage, usersPage, auth, app, form, chat })\n\nexport type AppStateType = ReturnType<typeof store.getState>\n\nexport type InferActionsTypes<T> = T extends { [key: string]: (...args: any[]) => infer U } ? U : never\n\nexport type BaseThunkType<A extends Action, R = Promise<void>> = ThunkAction<R, AppStateType, unknown, A>\n\n// @ts-ignore\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\nexport const store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleware)))\n// @ts-ignore\nwindow.store = store\n","import ReactDOM from 'react-dom'\nimport reportWebVitals from './reportWebVitals'\nimport { App } from './App'\nimport { store } from './redux/store'\nimport { BrowserRouter } from 'react-router-dom'\nimport { Provider } from 'react-redux'\n\nimport './index.css'\n\nReactDOM.render(\n\t<BrowserRouter>\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>\n\t</BrowserRouter>,\n\tdocument.getElementById('root')\n)\n\nreportWebVitals()\n","import { FormAction, stopSubmit } from 'redux-form'\nimport { authAPI, securityAPI } from '../api'\nimport { ResultCodeEnum, ResultCodeForCaptchaEnum } from '../api/api'\nimport { BaseThunkType, InferActionsTypes } from './store'\n\nexport type InitialStateType = typeof initialState\ntype ActionsType = InferActionsTypes<typeof actions>\ntype ThunkType = BaseThunkType<ActionsType | FormAction>\n\nconst initialState = {\n\tuserId: null as number | null,\n\tlogin: null as string | null,\n\temail: null as string | null,\n\tisAuth: false,\n\tcaptchaUrl: null as string | null,\n}\n\nconst authReducer = (state = initialState, action: ActionsType): InitialStateType => {\n\tswitch (action.type) {\n\t\tcase 'AUTH:SET_AUTH_USER_DATA':\n\t\tcase 'AUTH:SET_CAPTCHA_URL':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t...action.payload,\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport const actions = {\n\tsetAuthUserData: (userId: number | null, login: string | null, email: string | null, isAuth: boolean) =>\n\t\t({\n\t\t\ttype: 'AUTH:SET_AUTH_USER_DATA',\n\t\t\tpayload: { userId, login, email, isAuth },\n\t\t} as const),\n\n\tsetCaptchaUrl: (captchaUrl: string) =>\n\t\t({\n\t\t\ttype: 'AUTH:SET_CAPTCHA_URL',\n\t\t\tpayload: { captchaUrl },\n\t\t} as const),\n}\n\nexport const getAuthUserData = (): ThunkType => async dispatch => {\n\tconst data = await authAPI.me()\n\tif (data.resultCode === ResultCodeEnum.Success) {\n\t\tconst { id, login, email } = data.data\n\t\tdispatch(actions.setAuthUserData(id, login, email, true))\n\t}\n}\n\nexport const login =\n\t(email: string, password: string, rememberMe: boolean, captcha: string): ThunkType =>\n\tasync dispatch => {\n\t\tconst data = await authAPI.login(email, password, rememberMe, captcha)\n\t\tif (data.resultCode === ResultCodeEnum.Success) {\n\t\t\tdispatch(getAuthUserData())\n\t\t} else {\n\t\t\tif (data.resultCode === ResultCodeForCaptchaEnum.CaptchaIsRequired) {\n\t\t\t\tdispatch(getCaptchaUrl())\n\t\t\t}\n\t\t\tconst message = data.messages.length !== 0 ? data.messages[0] : 'Some error'\n\t\t\tdispatch(stopSubmit('login', { _error: message }))\n\t\t}\n\t}\n\nexport const getCaptchaUrl = (): ThunkType => async dispatch => {\n\tconst data = await securityAPI.getCaptchaUrl()\n\tconst captchaUrl = data.url\n\tdispatch(actions.setCaptchaUrl(captchaUrl))\n}\n\nexport const logout = (): ThunkType => async dispatch => {\n\tconst data = await authAPI.logout()\n\tif (data.resultCode === ResultCodeEnum.Success) {\n\t\tdispatch(actions.setAuthUserData(null, null, null, false))\n\t}\n}\n\nexport default authReducer\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"header__container\":\"Header_header__container__1LBSf\",\"header__title\":\"Header_header__title__3Zjy_\",\"header__logo\":\"Header_header__logo__1ETZb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"topSearchForm\":\"TopSearchForm_topSearchForm__lH53q\",\"topSearchForm__input\":\"TopSearchForm_topSearchForm__input__3UH_0\",\"topSearchForm__login\":\"TopSearchForm_topSearchForm__login__Pzc_j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"headerMenu\":\"HeaderMenu_headerMenu__2E378\",\"headerMenu__item\":\"HeaderMenu_headerMenu__item__35CEb\"};","import { FormAction, stopSubmit } from 'redux-form'\nimport { ResultCodeEnum } from '../api/api'\nimport { profileAPI } from '../api'\nimport { PhotosType, PostType, ProfileType } from '../types/types'\nimport { BaseThunkType, InferActionsTypes } from './store'\n\nexport type InitialStateType = typeof initialState\ntype ActionsType = InferActionsTypes<typeof actions>\ntype ThunkType = BaseThunkType<ActionsType | FormAction>\n\nconst initialState = {\n\tposts: [\n\t\t{ id: 0, message: 'postMessage', likeCount: 32 },\n\t\t{ id: 1, message: 'postMessage', likeCount: 33 },\n\t\t{ id: 2, message: 'postMessage', likeCount: 1 },\n\t\t{ id: 3, message: 'postMessage', likeCount: 100 },\n\t] as Array<PostType>,\n\tprofile: null as ProfileType | null,\n\tuserStatus: '',\n\tnewPostText: '',\n}\n\nconst profileReducer = (state = initialState, action: ActionsType): InitialStateType => {\n\tswitch (action.type) {\n\t\tcase 'PROFILE:ADD_POST': {\n\t\t\tconst newPost = {\n\t\t\t\tid: Date.now(),\n\t\t\t\tmessage: action.newPostText,\n\t\t\t\tlikeCount: Math.floor(Math.random() * 100),\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tposts: [newPost, ...state.posts],\n\t\t\t\tnewPostText: '',\n\t\t\t}\n\t\t}\n\t\tcase 'PROFILE:SET_USER_PROFILE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprofile: action.profile,\n\t\t\t}\n\t\tcase 'PROFILE:SET_USER_STATUS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tuserStatus: action.userStatus,\n\t\t\t}\n\t\tcase 'PROFILE:SAVE_PHOTO_SUCCESS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprofile: { ...state.profile, photos: action.photos } as ProfileType,\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport const actions = {\n\taddPost: (newPostText: string) => ({ type: 'PROFILE:ADD_POST', newPostText } as const),\n\tsetUserStatus: (userStatus: string) => ({ type: 'PROFILE:SET_USER_STATUS', userStatus } as const),\n\tsetUserProfile: (profile: ProfileType) => ({ type: 'PROFILE:SET_USER_PROFILE', profile } as const),\n\tsavePhotoSuccess: (photos: PhotosType) => ({ type: 'PROFILE:SAVE_PHOTO_SUCCESS', photos } as const),\n}\n\nexport const getUserProfile =\n\t(userId: number): ThunkType =>\n\t\tasync dispatch => {\n\t\t\tconst data = await profileAPI.getProfile(userId)\n\t\t\tdispatch(actions.setUserProfile(data))\n\t\t}\n\nexport const getUserStatus =\n\t(userId: number): ThunkType =>\n\t\tasync dispatch => {\n\t\t\tconst data = await profileAPI.getStatus(userId)\n\t\t\tdispatch(actions.setUserStatus(data))\n\t\t}\n\nexport const updateUserStatus =\n\t(status: string): ThunkType =>\n\t\tasync dispatch => {\n\t\t\ttry {\n\t\t\t\tconst data = await profileAPI.updateStatus(status)\n\t\t\t\tif (data.resultCode === ResultCodeEnum.Success) {\n\t\t\t\t\tdispatch(actions.setUserStatus(status))\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error)\n\t\t\t}\n\t\t}\n\nexport const savePhoto =\n\t(file: File): ThunkType =>\n\t\tasync dispatch => {\n\t\t\tconst data = await profileAPI.savePhoto(file)\n\t\t\tif (data.resultCode === ResultCodeEnum.Success) {\n\t\t\t\tdispatch(actions.savePhotoSuccess(data.data.photos))\n\t\t\t}\n\t\t}\n\nexport const saveProfile =\n\t(profile: ProfileType): ThunkType =>\n\t\tasync (dispatch, getState) => {\n\t\t\tconst { userId } = getState().auth\n\t\t\tconst data = await profileAPI.saveProfile(profile)\n\t\t\tif (data.resultCode === ResultCodeEnum.Success) {\n\t\t\t\tif (userId != null) {\n\t\t\t\t\tdispatch(getUserProfile(userId))\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(\"userId can't be null\")\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// dispatch(stopSubmit('edit-profile', { contacts: { facebook: response.data.messages[0] } }))\n\t\t\t\tdispatch(stopSubmit('edit-profile', { _error: data.messages[0] }))\n\t\t\t\treturn Promise.reject(data.messages[0])\n\t\t\t}\n\t\t}\n\nexport default profileReducer\n","import { Dispatch } from 'redux'\nimport { UserType } from '../types/types'\nimport { ResponseType, ResultCodeEnum } from '../api/api'\nimport { usersAPI, followAPI } from '../api'\nimport { BaseThunkType, InferActionsTypes } from './store'\n\nexport type InitialState = typeof initialState\nexport type FilterType = typeof initialState.filter\ntype ActionsTypes = InferActionsTypes<typeof actions>\ntype ThunkType = BaseThunkType<ActionsTypes>\n\nconst initialState = {\n\tusers: [] as Array<UserType>,\n\ttotalUsersCount: 0,\n\tpageSize: 10,\n\tcurrentPage: 1,\n\tisFetching: false,\n\ttoggleFollowingInProgress: [] as Array<number>, // array of users id\n\tfilter: {\n\t\tterm: '',\n\t\tfriend: null as null | boolean,\n\t},\n}\n\nconst usersReducer = (state = initialState, action: ActionsTypes): InitialState => {\n\tswitch (action.type) {\n\t\tcase 'USERS:SET_USERS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusers: action.users,\n\t\t\t}\n\t\tcase 'USERS:TOGGLE_FOLLOWING':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tusers: state.users.map(user => {\n\t\t\t\t\tif (user.id === action.userId) {\n\t\t\t\t\t\tuser.followed = !user.followed\n\t\t\t\t\t}\n\t\t\t\t\treturn user\n\t\t\t\t}),\n\t\t\t}\n\t\tcase 'USERS:SET_CURRENT_PAGE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentPage: action.currentPage,\n\t\t\t}\n\t\tcase 'USERS:SET_USERS_COUNT':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttotalUsersCount: action.totalCount,\n\t\t\t}\n\t\tcase 'USERS:TOGGLE_IS_FETCHING':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisFetching: action.isFetching,\n\t\t\t}\n\t\tcase 'USERS:TOGGLE_IS_FOLLOWING_PROGRESS':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttoggleFollowingInProgress: action.isFetching\n\t\t\t\t\t? [...state.toggleFollowingInProgress, action.userId]\n\t\t\t\t\t: state.toggleFollowingInProgress.filter(id => id !== action.userId),\n\t\t\t}\n\t\tcase 'USERS:SET_FILTER':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfilter: action.payload,\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport const actions = {\n\ttoggleFollowSuccess: (userId: number) => ({ type: 'USERS:TOGGLE_FOLLOWING', userId } as const),\n\tsetUsers: (users: Array<UserType>) => ({ type: 'USERS:SET_USERS', users } as const),\n\tsetCurrentPage: (currentPage: number) => ({ type: 'USERS:SET_CURRENT_PAGE', currentPage } as const),\n\tsetFilter: (filter: FilterType) => ({ type: 'USERS:SET_FILTER', payload: filter } as const),\n\tsetUsersCount: (totalCount: number) => ({ type: 'USERS:SET_USERS_COUNT', totalCount } as const),\n\ttoggleIsFetching: (isFetching: boolean) => ({ type: 'USERS:TOGGLE_IS_FETCHING', isFetching } as const),\n\tsetToggleFollowingInProgress: (isFetching: boolean, userId: number) =>\n\t({\n\t\ttype: 'USERS:TOGGLE_IS_FOLLOWING_PROGRESS',\n\t\tisFetching,\n\t\tuserId,\n\t} as const),\n}\n\nexport const getUsers =\n\t(currentPage: number, pageSize: number, filter: FilterType): ThunkType =>\n\t\tasync dispatch => {\n\t\t\tdispatch(actions.toggleIsFetching(true))\n\t\t\tdispatch(actions.setCurrentPage(currentPage))\n\t\t\tdispatch(actions.setFilter(filter))\n\t\t\tconst data = await usersAPI.getUsers(currentPage, pageSize, filter.term, filter.friend)\n\t\t\tdispatch(actions.toggleIsFetching(false))\n\t\t\tdispatch(actions.setUsers(data.items))\n\t\t\tdispatch(actions.setUsersCount(data.totalCount))\n\t\t}\n\nconst _followUnfollow = async (dispatch: Dispatch<ActionsTypes>, userId: number, apiFollowUnfollow: (userId: number) => Promise<ResponseType>) => {\n\tdispatch(actions.setToggleFollowingInProgress(true, userId))\n\tconst data = await apiFollowUnfollow(userId)\n\tif (data.resultCode === ResultCodeEnum.Success) {\n\t\tdispatch(actions.toggleFollowSuccess(userId))\n\t}\n\tdispatch(actions.setToggleFollowingInProgress(false, userId))\n}\n\nexport const follow =\n\t(userId: number): ThunkType =>\n\t\tasync dispatch => {\n\t\t\tawait _followUnfollow(dispatch, userId, followAPI.follow.bind(followAPI))\n\t\t}\n\nexport const unfollow =\n\t(userId: number): ThunkType =>\n\t\tasync dispatch => {\n\t\t\tawait _followUnfollow(dispatch, userId, followAPI.unfollow.bind(followAPI))\n\t\t}\n\nexport default usersReducer\n","// @ts-nocheck\n\ntype SubscriberType = (messages: ChatMessageType[]) => void\n\nexport type ChatMessageType = {\n\tmessage: string\n\tphoto: string\n\tuserId: number\n\tuserName: string\n}\n\nlet subscribers = [] as ChatMessageType[]\n\nlet ws: WebSocket | null = null\n\nconst closeHandler = () => {\n\tconsole.log('CLOSE WS')\n\tsetTimeout(createChatChannel, 3000)\n}\n\nconst messageHandler = (e: MessageEvent) => {\n\tconst newMessages = JSON.parse(e.data)\n\tsubscribers.forEach((sub) => sub(newMessages))\n}\n\nconst createChatChannel = () => {\n\tws?.removeEventListener('close', closeHandler)\n\tws?.close()\n\tws = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx')\n\tws?.addEventListener('close', closeHandler)\n\tws?.addEventListener('message', messageHandler)\n}\n\nexport const chatAPI = {\n\tstart() {\n\t\tcreateChatChannel()\n\t},\n\tstop() {\n\t\tsubscribers = []\n\t\tws?.removeEventListener('close', closeHandler)\n\t\tws?.removeEventListener('message', messageHandler)\n\t\tws?.close()\n\t},\n\tsubscribe(callback: SubscriberType) {\n\t\tsubscribers.push(callback)\n\t\treturn () => {\n\t\t\tsubscribers = subscribers.filter((sub) => sub !== callback)\n\t\t}\n\t},\n\tunsubscribe(callback: SubscriberType) {\n\t\tsubscribers = subscribers.filter((sub) => sub !== callback)\n\t},\n\tsendMessage(message: string) {\n\t\tws?.send(message)\n\t},\n}\n","//@ts-nocheck\n\nimport { Dispatch } from 'redux'\nimport { FormAction } from 'redux-form'\nimport { chatAPI, ChatMessageType } from '../api/chatAPI'\nimport { BaseThunkType, InferActionsTypes } from './store'\n\nexport type InitialStateType = typeof initialState\ntype ActionsType = InferActionsTypes<typeof actions>\ntype ThunkType = BaseThunkType<ActionsType | FormAction>\n\nconst initialState = {\n\tmessages: [] as ChatMessageType[]\n}\n\nconst chatReducer = (state = initialState, action: ActionsType): InitialStateType => {\n\tswitch (action.type) {\n\t\tcase 'CHAT:SET_MESSAGES':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmessages: [...state.messages, ...action.payload]\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport const actions = {\n\tsetMessages: (messages: ChatMessageType[]) => ({\n\t\ttype: 'CHAT:SET_MESSAGES',\n\t\tpayload: messages\n\t}) as const\n}\n\nlet _newMessageHandler: ((messages: ChatMessageType[]) => void) | null = null\n\nconst newMessageHandlerCreator = (dispatch: Dispatch) => {\n\tif (_newMessageHandler === null) {\n\t\t_newMessageHandler = (messages) => {\n\t\t\tdispatch(actions.setMessages(messages))\n\t\t}\n\t\treturn _newMessageHandler\n\t}\n}\n\n\nexport const startMessagesListening = (): ThunkType => async dispatch => {\n\tchatAPI.start()\n\tchatAPI.subscribe(newMessageHandlerCreator(dispatch))\n}\n\nexport const stopMessagesListening = (): ThunkType => async dispatch => {\n\tchatAPI.unsubscribe(newMessageHandlerCreator(dispatch))\n\tchatAPI.stop()\n}\n\nexport const sendMessage = (message: string): ThunkType => async dispatch => {\n\tchatAPI.sendMessage(message)\n}\n\nexport default chatReducer\n","import { InferActionsTypes } from './store'\n\nexport type InitialStateType = typeof initialState\ntype ActionsType = InferActionsTypes<typeof actions>\n\ntype DialogType = {\n\tid: number\n\tname: string\n}\n\ntype MessageType = {\n\tid: number\n\tmessage: string\n}\n\nconst initialState = {\n\tdialogs: [\n\t\t{ id: 0, name: 'max' },\n\t\t{ id: 1, name: 'tom' },\n\t\t{ id: 2, name: 'eeee' },\n\t\t{ id: 3, name: 'yyyy' },\n\t] as Array<DialogType>,\n\tmessages: [\n\t\t{ id: 0, message: 'message' },\n\t\t{ id: 1, message: 'message' },\n\t\t{ id: 2, message: 'message' },\n\t\t{ id: 3, message: 'message' },\n\t] as Array<MessageType>,\n}\n\nconst dialogsReducer = (state = initialState, action: ActionsType): InitialStateType => {\n\tswitch (action.type) {\n\t\tcase 'DIALOGS:SEND_MESSAGE':\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tmessages: [...state.messages, { id: 4, message: action.newMessageText }],\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state\n\t}\n}\n\nexport const actions = {\n\tsendMessage: (newMessageText: string) => ({ type: 'DIALOGS:SEND_MESSAGE', newMessageText } as const),\n}\n\nexport default dialogsReducer\n","import axios from 'axios'\nimport { UserType } from '../types/types'\n\nexport const instance = axios.create({\n\tbaseURL: process.env.REACT_APP_BASE_URL,\n\twithCredentials: true,\n\theaders: {\n\t\t'API-KEY': process.env.REACT_APP_API_KEY,\n\t},\n})\n\nexport type ResponseType<D = {}, RC = ResultCodeEnum> = {\n\tdata: D\n\tmessages: Array<string>\n\tresultCode: RC\n}\n\nexport type GetItemsType = {\n\titems: Array<UserType>\n\ttotalCount: number\n\terror: string | null\n}\n\nexport enum ResultCodeEnum {\n\tSuccess = 0,\n\tError = 1,\n}\n\nexport enum ResultCodeForCaptchaEnum {\n\tCaptchaIsRequired = 10,\n}\n","export default __webpack_public_path__ + \"static/media/preloader.a1a99674.gif\";","import React from 'react'\nimport style from './Preloader.module.css'\nimport preloader from '../../assets/img/preloader.gif'\n\nconst Preloader = () => {\n\treturn (\n\t\t<div className={style.preloader}>\n\t\t\t<img src={preloader} alt='loading' />\n\t\t</div>\n\t)\n}\n\nexport default Preloader\n"],"sourceRoot":""}